<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Profile Settings (Vulnerable CSRF)</title>
</head>
<body>
<h1>Profile Settings</h1>

<h2>Current Profile</h2>
<p>Email: <span th:text="${email}"></span></p>
<p>Name: <span th:text="${profileName}"></span></p>
<p th:if="${message}" style="color: green;" th:text="${message}"></p>

<h2>Update Email (Vulnerable)</h2>
<form action="/update-email-vulnerable" method="post">
    <label for="newEmail">New Email:</label><br>
    <input type="email" id="newEmail" name="newEmail" th:value="${email}" /><br>
    <button type="submit">Update Email</button>
</form>

<h2>Update Profile Name (Vulnerable)</h2>
<form action="/update-profile-name-vulnerable" method="post">
    <label for="newName">New Name:</label><br>
    <input type="text" id="newName" name="newName" th:value="${profileName}" /><br>
    <button type="submit">Update Name</button>
</form>


</body>
</html>